 저장 위치: ./md/20260130_1530_bff_remove_analysis.md

  문서 요약

  1. AS-IS 분석

  - PostListFacadeService가 3개 서비스(Post/Auth/Attach) 데이터를 조합
  - 매 목록 조회 시 1회 DB + 2~N회 Feign 원격 호출 발생
  - 장애 격리를 위한 Fallback 로직이 Facade에 집중

  2. TO-BE 제안

  - DB 통합 후 단일 JOIN 쿼리로 모든 데이터 조회 가능
  - Member는 JOIN, AttachmentCount는 서브쿼리로 대체
  - Facade 계층 완전 제거 → Controller → Service → Repository 직결

  3. BFF 제거 판단 기준
  ┌───────────────────────────┬───────────┐
  │           조건            │   판단    │
  ├───────────────────────────┼───────────┤
  │ 데이터가 동일 DB 존재     │ 제거 가능 │
  ├───────────────────────────┼───────────┤
  │ JOIN/서브쿼리로 대체 가능 │ 제거 가능 │
  ├───────────────────────────┼───────────┤
  │ 복잡한 비즈니스 로직 없음 │ 제거 가능 │
  └───────────────────────────┴───────────┘
  → 5개 Facade 클래스 모두 제거 대상

  4. 단계별 전환 전략
  ┌──────┬───────────────────┬───────────────┐
  │ Step │       작업        │  핵심 리스크  │
  ├──────┼───────────────────┼───────────────┤
  │ 1    │ DB 스키마 통합    │ 데이터 불일치 │
  ├──────┼───────────────────┼───────────────┤
  │ 2    │ 통합 쿼리 작성    │ 쿼리 성능     │
  ├──────┼───────────────────┼───────────────┤
  │ 3    │ Facade 제거       │ 기능 누락     │
  ├──────┼───────────────────┼───────────────┤
  │ 4    │ Feign Client 정리 │ 의존성 정리   │
  └──────┴───────────────────┴───────────────┘
  각 단계별 검증 포인트와 체크리스트도 포함했습니다.